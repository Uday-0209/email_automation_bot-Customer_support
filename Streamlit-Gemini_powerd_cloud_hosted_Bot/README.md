<h1 align="center">ğŸš€ Gemini-Powered Email Automation â€“ Docker + AWS Cloud</h1>

<p align="center">
This project enables automated support email reply generation using <b>Gemini LLM</b> + Gmail API.
It includes a Streamlit interface, background email automation worker, and cloud deployment
through Docker + AWS EC2 + Amazon ECR.</p>

<hr>

<h2>ğŸ§© Project Components</h2>

<ul>
<li><b>Streamlit UI (app.py)</b> â€“ configuration, logging, automation controls.</li>
<li><b>Gmail worker (email_worker.py)</b> â€“ background email reading & processing engine.</li>
<li><b>Gemini response builder (gemini_llm_response.py)</b> â€“ generates email text using Gemini. :contentReference[oaicite:0]{index=0}</li>
<li><b>Email sender (email_generator.py)</b> â€“ formats and sends emails via Gmail API. :contentReference[oaicite:1]{index=1}</li>
<li><b>Dockerfile</b> â€“ containerization for cloud deployment.</li>
</ul>

<hr>

<h2>ğŸ“¦ Functionality Flow Diagram</h2>

<pre align="center">
User â†’ Streamlit UI â†’ Gemini LLM â†’ Reply Email Text
      â†‘                 |
      |                 â†“
 Gmail Inbox â†’ Worker â†’ Email Sender â†’ Customer
</pre>

<hr>

<h2>ğŸ“ Credential Files Required for Gmail Integration</h2>

<p>
To securely access Gmail inbox and send messages, the application uses OAuth tokens.
These must be created manually once and uploaded into the app:</p>

<h3>1ï¸âƒ£ credentials.json</h3>
<p>
This file is downloaded from Google Cloud OAuth console. It contains:
</p>
<ul>
<li>client_id</li>
<li>client_secret</li>
<li>redirect_uris</li>
<li>project identifiers</li>
</ul>

<p>
Purpose:
<b>Used to generate read & send tokens</b> for Gmail API access.
Never upload this file publicly.
</p>

<h4>How to generate credentials.json:</h4>

<ol>
<li>Go to Google Cloud Console â†’ Create a project</li>
<li>Enable Gmail API</li>
<li>Go to: Credentials â†’ Create OAuth client</li>
<li>Select: Desktop App</li>
<li>Download JSON â†’ rename to <code>credentials.json</code></li>
<li>Place inside the root folder of the project</li>
</ol>

<hr>

<h3>2ï¸âƒ£ token_read.json</h3>

<p>The first time you run the app to authorize Gmail inbox reading, a login window opens.</p>

<p>This token stores permission:</p>
<pre>https://www.googleapis.com/auth/gmail.readonly</pre>

<p>Purpose:</p>
<ul>
<li>Read unread emails</li>
<li>Fetch body, subject, sender</li>
<li>Avoid re-login authentication</li>
</ul>

<p>Generated by:</p>
<pre>email_worker.py</pre>
<p>
Verified here: <code>Credentials.from_authorized_user_file("token_read.json")</code> :contentReference[oaicite:2]{index=2}
</p>

<hr>

<h3>3ï¸âƒ£ token_send.json</h3>

<p>Second OAuth authorization for email sending.</p>

<p>Scope stored:</p>
<pre>https://www.googleapis.com/auth/gmail.send</pre>

<p>Purpose:</p>
<ul>
<li>Enable automated email replies</li>
<li>Store sending token so future logins are not required</li>
</ul>

<p>Used inside Gmail send function through:</p>

<pre>
service.users().messages().send(...)
</pre>

<p>As seen in email sender file. :contentReference[oaicite:3]{index=3}</p>

<hr>

<h2>ğŸ“Œ Offline Token Workflow Recap</h2>

<ol>
<li>credentials.json â†’ downloaded manually</li>
<li>token_read.json â†’ auto created first time inbox read occurs</li>
<li>token_send.json â†’ auto created first time send function executed</li>
</ol>

<p>
Once tokens exist, no further authentication interaction needed.
</p>

<hr>

<h2>ğŸ“¦ Docker Containerization</h2>

<p>This app is packaged into a Docker image that runs Streamlit + Gmail worker in isolation.</p>

<h3>ğŸ”¨ Build Docker image:</h3>

<pre>
docker build -t gemini-email-automation .
</pre>

<h3>â–¶ï¸ Run locally:</h3>

<pre>
docker run -p 8501:8501 gemini-email-automation
</pre>

<hr>

<h2>â˜ï¸ Deploy Container to AWS Cloud â€“ Full Guide</h2>

<h3>Step 1 â€” Create AWS EC2 instance</h3>

<ul>
<li>Ubuntu 22 â†’ 2GB RAM â†’ open port: 8501</li>
<li>Install Docker + AWS CLI</li>
</ul>

<pre>
sudo apt update
sudo apt install docker.io awscli -y
</pre>

<hr>

<h3>Step 2 â€” Create AWS ECR repository</h3>

<ol>
<li>Console â†’ Amazon ECR â†’ Create repository</li>
<li>Copy ECR URI (example below)</li>
</ol>

<pre>
<aws_id>.dkr.ecr.ap-south-1.amazonaws.com/gemini-email-automation
</pre>

<hr>

<h3>Step 3 â€” Authenticate Docker to ECR</h3>

<pre>
aws ecr get-login-password --region ap-south-1 \
| docker login --username AWS \
--password-stdin <aws_id>.dkr.ecr.ap-south-1.amazonaws.com
</pre>

<hr>

<h3>Step 4 â€” Tag image</h3>

<pre>
docker tag gemini-email-automation \
<aws_id>.dkr.ecr.ap-south-1.amazonaws.com/gemini-email-automation:latest
</pre>

<hr>

<h3>Step 5 â€” Push to ECR</h3>

<pre>
docker push \
<aws_id>.dkr.ecr.ap-south-1.amazonaws.com/gemini-email-automation:latest
</pre>

<hr>

<h3>Step 6 â€” Pull on EC2</h3>

<pre>
docker pull \
<aws_id>.dkr.ecr.ap-south-1.amazonaws.com/gemini-email-automation:latest
</pre>

<hr>

<h3>Step 7 â€” Run container</h3>

<pre>
docker run -d -p 8501:8501 \
--name geminiapp \
<aws_id>.dkr.ecr.ap-south-1.amazonaws.com/gemini-email-automation:latest
</pre>

<p>Final app URL:</p>
<pre>
http://EC2-PUBLIC-IP:8501
</pre>

<hr>
<h2 align="center">ğŸ“¸ Project Image Gallery</h2>

<p align="center">
All screenshots and UI previews related to the application are shown below.
Place new files inside the <code>images/</code> folder and update filenames here.
</p>

<table align="center">
<tr>
    <td align="center" width="50%">
        <img src="images/screen1.png" height="350px">
        <p><b>Image 1</b></p>
    </td>
    <td align="center" width="50%">
        <img src="images/screen2.png" height="350px">
        <p><b>Image 2</b></p>
    </td>
</tr>

<tr>
    <td align="center" width="50%">
        <img src="images/screen3.png" height="350px">
        <p><b>Image 3</b></p>
    </td>
    <td align="center" width="50%">
        <img src="images/screen4.png" height="350px">
        <p><b>Image 4</b></p>
    </td>
</tr>

<tr>
    <td align="center" width="50%">
        <img src="images/screen5.png" height="350px">
        <p><b>Image 5</b></p>
    </td>
    <td align="center" width="50%">
        <img src="images/screen6.png" height="350px">
        <p><b>Image 6</b></p>
    </td>
</tr>
</table>

<p align="center"><i>âš ï¸ Add or remove table rows depending on number of images you upload.</i></p>


<h2 align="center">ğŸ¯ Final Result</h2>

<p align="center">
Your system now automates Gmail reading â†’ LLM reasoning â†’ issue-based reply generation 
and runs securely on AWS cloud using Docker and Gemini AI â€” with zero manual operation required.
</p>

